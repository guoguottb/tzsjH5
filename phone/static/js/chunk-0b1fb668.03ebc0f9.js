(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b1fb668"],{"9d76":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login"},[e._m(0),s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"show-message":!1,model:e.loginForm,rules:e.loginRules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{staticClass:"loginInput",attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{staticClass:"loginPassword",attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},nativeOn:{"!paste":function(s){return s.preventDefault(),e.handlePaste.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),s("el-form-item",{staticStyle:{width:"100%"}},[s("el-button",{staticClass:"loginPassword",attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e.loading?s("span",[e._v("登 录 中...")]):s("span",[e._v("登 录")])])],1)],1),e._m(1)],1)},a=[function(){var e=this,s=e._self._c;return s("header",[s("div",[s("div",{staticClass:"headerFont"},[s("img",{staticClass:"headerImg",attrs:{src:t("dd16")}}),s("span",{staticStyle:{"font-size":"25px",display:"block","margin-top":"10px","letter-spacing":"4px"}},[e._v("智慧民政社会救助")]),s("span",{staticStyle:{"font-size":"20px",display:"block","margin-top":"10px","letter-spacing":"4px"}},[e._v("评估机构登录")])])])])},function(){var e=this,s=e._self._c;return s("footer",[s("span",{staticStyle:{color:"#fff"}},[e._v("所属单位：泰州市民政局 联系电话：0523-86198830")])])}],r=t("b775"),n={name:"Login",data(){return{loginForm:{username:localStorage.getItem("username"),password:localStorage.getItem("password")},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1}},watch:{},methods:{handleLogin(){this.$refs.loginForm.validate(e=>{e?(this.loading=!0,Object(r["a"])({method:"post",url:"/social/assistanceWeixin/login",data:{username:this.loginForm.username,password:this.loginForm.password,module:"特困自理能力评估"}}).then(e=>{this.loading=!1,"ok"==e[0].status?(sessionStorage.setItem("token1",e[0].token),localStorage.setItem("username",this.loginForm.username),localStorage.setItem("password",this.loginForm.password),this.$router.push({path:"/SelfCareAssessmentList"})):this.$alert("账号或密码错误")}).catch(e=>{this.loading=!1,console.log(e)})):this.$toast.fail("请输入账号或密码")})}}},i=n,l=(t("a1cb"),t("2877")),c=Object(l["a"])(i,o,a,!1,null,"647e7117",null);s["default"]=c.exports},a1cb:function(e,s,t){"use strict";t("b572")},b572:function(e,s,t){},b775:function(e,s,t){"use strict";var o=t("bc3a"),a=t.n(o),r=t("a18c");let n=Object({NODE_ENV:"production",BASE_URL:"/phone/"}).baseURL;const i=a.a.create({baseURL:n,timeout:3e4});i.interceptors.request.use(e=>(sessionStorage.token&&(e.headers.token=sessionStorage.token),e),e=>{console.log(e),Promise.reject(e)}),i.interceptors.response.use(e=>"blob"==e.config.responseType?200==e.status?e:Promise.reject(error):200===e.status?e.data:407!==e.status?Promise.reject("error1"):void 0,e=>{if(console.log("err"+e),console.log(e.response),e.response)switch(e.response.data.message){case"401":console.log("token过期了，需要重新登录"),r["a"].replace({path:"/login",query:{redirect:r["a"].currentRoute.fullPath}})}return Promise.reject(e.response.data)}),s["a"]=i}}]);